<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Manrope%3Awght%40400%3B500%3B700%3B800&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900"
    />

    <title>Stitch Design</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
      .hidden { display: none; }
      .form-transition { transition: all 0.3s ease-in-out; }
      
      /* Modern animations and effects */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      @keyframes slideInFromLeft {
        from {
          opacity: 0;
          transform: translateX(-50px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
      
      @keyframes slideInFromRight {
        from {
          opacity: 0;
          transform: translateX(50px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
      
      @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
      }
      
      @keyframes shimmer {
        0% { background-position: -200px 0; }
        100% { background-position: calc(200px + 100%) 0; }
      }
      
      @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
      }
      
      /* Page load animations */
      .animate-fade-in-up {
        animation: fadeInUp 0.8s ease-out forwards;
      }
      
      .animate-fade-in {
        animation: fadeIn 0.6s ease-out forwards;
      }
      
      .animate-slide-in-left {
        animation: slideInFromLeft 0.7s ease-out forwards;
      }
      
      .animate-slide-in-right {
        animation: slideInFromRight 0.7s ease-out forwards;
      }
      
      /* Interactive hover effects */
      .hover-lift {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .hover-lift:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }
      
      .hover-glow {
        transition: all 0.3s ease;
      }
      
      .hover-glow:hover {
        box-shadow: 0 0 20px rgba(139, 69, 255, 0.5);
      }
      
      /* Button animations */
      .btn-animate {
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
      }
      
      .btn-animate::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s;
      }
      
      .btn-animate:hover::before {
        left: 100%;
      }
      
      .btn-animate:active {
        transform: scale(0.98);
      }
      
      /* Input focus animations */
      .input-focus {
        transition: all 0.3s ease;
      }
      
      .input-focus:focus {
        transform: scale(1.02);
        box-shadow: 0 0 0 3px rgba(139, 69, 255, 0.3);
      }
      
      /* Loading spinner */
      .spinner {
        border: 3px solid rgba(139, 69, 255, 0.3);
        border-radius: 50%;
        border-top: 3px solid #8b45ff;
        width: 20px;
        height: 20px;
        animation: spin 1s linear infinite;
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      /* Gradient backgrounds */
      .gradient-bg {
        background: linear-gradient(135deg, #0f0c29 0%, #302b63 25%, #24243e 50%, #0f0c29 75%, #302b63 100%);
        background-size: 400% 400%;
        animation: gradientShift 8s ease infinite;
      }
      
      @keyframes gradientShift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
      
      /* Floating elements */
      .floating {
        animation: float 3s ease-in-out infinite;
      }
      
      /* Glass morphism effect */
      .glass {
        background: rgba(47, 43, 99, 0.25);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(139, 69, 255, 0.3);
        box-shadow: 0 8px 32px rgba(139, 69, 255, 0.1);
      }
      
      /* Form transition improvements */
      .form-container {
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .form-container.show {
        opacity: 1;
        transform: translateY(0);
      }
      
      /* Staggered animations */
      .stagger-1 { animation-delay: 0.1s; }
      .stagger-2 { animation-delay: 0.2s; }
      .stagger-3 { animation-delay: 0.3s; }
      .stagger-4 { animation-delay: 0.4s; }
      
      /* Responsive animations */
      @media (prefers-reduced-motion: reduce) {
        *, *::before, *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }
    </style>
    <script>
      function toggleForms() {
        const loginForm = document.querySelector('.login-form');
        const signupForm = document.getElementById('signupForm');
        if (loginForm && signupForm) {
          const isLoginVisible = !loginForm.classList.contains('hidden');
          loginForm.classList.toggle('hidden', !isLoginVisible);
          signupForm.classList.toggle('hidden', isLoginVisible);
          // Scroll to top of form for better UX
        }
      }

      function handleCredentialResponse(response) {
        try {
          const idToken = response && response.credential;
          if (idToken) {
            // Optionally store the token for later use
            try { localStorage.setItem('google_id_token', idToken); } catch (e) {}
            // Redirect to home after selecting an account
            window.location.href = 'home.html';
            return;
          }
        } catch (err) {
          console.error('Google Sign-In callback error:', err);
        }
        // Fallback: stay on page if no credential
        console.warn('No Google credential received.');
      }
      
      document.addEventListener('DOMContentLoaded', function() {
        try {
          google.accounts.id.initialize({
            client_id: "366312949881-c1pvjbgeqt614i2vk9ekdfd0n7mc6v8m.apps.googleusercontent.com",
            callback: handleCredentialResponse,
            // Disable FedCM and use the older flow
            use_fedcm_for_prompt: false,
            // Auto select to avoid FedCM prompt
            auto_select: false
          });

          // Only render button if element exists
          const signInButton = document.querySelector(".g_id_signin");
          if (signInButton) {
            google.accounts.id.renderButton(
              signInButton,
              { 
                type: 'standard',
                theme: 'outline',
                size: 'large',
                width: signInButton.offsetWidth,
                text: 'signin_with',
                shape: 'rectangular',
                logo_alignment: 'left'
              }
            );
          } else {
            console.error('Google Sign-In button container not found');
          }
        } catch (error) {
          console.error('Error initializing Google Sign-In:', error);
        }
      });

      // Toggle between login and signup forms
      document.addEventListener('DOMContentLoaded', function() {
        console.log('DOM fully loaded');
        
        // Get form elements
        const loginForm = document.querySelector('.login-form');
        const signupForm = document.getElementById('signupForm');
        const showSignupLink = document.getElementById('showSignup');
        const showLoginLink = document.getElementById('showLogin');

        console.log('Elements found:', { loginForm, signupForm, showSignupLink, showLoginLink });

        // Toggle functions with animations
        function showSignup(e) {
          if (e) e.preventDefault();
          console.log('Showing signup form');
          
          // Hide login form with animation
          loginForm.style.opacity = '0';
          loginForm.style.transform = 'translateY(20px)';
          
          setTimeout(() => {
            loginForm.style.display = 'none';
            signupForm.style.display = 'block';
            
            // Show signup form with animation
            setTimeout(() => {
              signupForm.style.opacity = '1';
              signupForm.style.transform = 'translateY(0)';
            }, 50);
          }, 300);
          
          window.scrollTo({ top: 0, behavior: 'smooth' });
          return false;
        }

        function showLogin(e) {
          if (e) e.preventDefault();
          
          // Hide signup form with animation
          signupForm.style.opacity = '0';
          signupForm.style.transform = 'translateY(20px)';
          
          setTimeout(() => {
            signupForm.style.display = 'none';
            loginForm.style.display = 'block';
            
            // Show login form with animation
            setTimeout(() => {
              loginForm.style.opacity = '1';
              loginForm.style.transform = 'translateY(0)';
            }, 50);
          }, 300);
          
          window.scrollTo({ top: 0, behavior: 'smooth' });
          return false;
        }

        // Event listeners
        if (showSignupLink) showSignupLink.onclick = showSignup;
        if (showLoginLink) showLoginLink.onclick = showLogin;
        
        // Initialize page animations
        function initializePageAnimations() {
          // Add loading animation to buttons
          const buttons = document.querySelectorAll('button');
          buttons.forEach(button => {
            button.addEventListener('click', function() {
              if (this.onclick && this.onclick.toString().includes('home.html')) {
                // Add loading state
                const originalText = this.innerHTML;
                this.innerHTML = '<div class="spinner mr-2"></div>Signing in...';
                this.disabled = true;
                
                // Simulate loading time
                setTimeout(() => {
                  window.location.href = 'home.html';
                }, 1500);
              }
            });
          });
          
          // Add input focus animations
          const inputs = document.querySelectorAll('input');
          inputs.forEach(input => {
            input.addEventListener('focus', function() {
              this.parentElement.classList.add('scale-105');
            });
            
            input.addEventListener('blur', function() {
              this.parentElement.classList.remove('scale-105');
            });
          });
        }
        
        // Initialize animations when DOM is ready
        initializePageAnimations();

        // Handle signup form submission
        const signupFormElement = document.getElementById('signupFormElement');
        if (signupFormElement) {
          signupFormElement.onsubmit = function(e) {
            e.preventDefault();
            
            const email = document.getElementById('signupEmail').value.trim();
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            // Basic validation
            if (password !== confirmPassword) {
              alert('Passwords do not match');
              return false;
            }

            if (password.length < 8) {
              alert('Password must be at least 8 characters');
              return false;
            }

            // Here you would typically send this data to your backend
            console.log('Signup attempt:', { email });
            
            // For now, just redirect to home
            window.location.href = 'home.html';
            return false;
          };
        }
      });
    </script>
  </head>
  <body>
    <div class="relative flex flex-col gradient-bg dark group/design-root overflow-x-hidden min-h-screen" style='font-family: Manrope, "Noto Sans", sans-serif;'>
      <!-- Animated background elements -->
      <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div class="absolute top-20 left-10 w-20 h-20 bg-[#8b45ff] opacity-20 rounded-full floating"></div>
        <div class="absolute top-40 right-20 w-16 h-16 bg-[#00d4ff] opacity-25 rounded-full floating" style="animation-delay: 1s;"></div>
        <div class="absolute bottom-20 left-1/4 w-12 h-12 bg-[#ff6b9d] opacity-20 rounded-full floating" style="animation-delay: 2s;"></div>
        <div class="absolute bottom-40 right-1/3 w-24 h-24 bg-[#8b45ff] opacity-15 rounded-full floating" style="animation-delay: 0.5s;"></div>
        <div class="absolute top-1/2 left-1/2 w-32 h-32 bg-[#00d4ff] opacity-10 rounded-full floating" style="animation-delay: 3s;"></div>
      </div>
      
      <div class="layout-container relative z-10">
        <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#8b45ff] px-10 py-3 glass animate-fade-in">
          <div class="flex items-center gap-4 text-white animate-slide-in-left">
            <div class="size-4 hover-glow">
              <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" class="transition-transform duration-300 hover:rotate-12">
                <path
                  d="M24 45.8096C19.6865 45.8096 15.4698 44.5305 11.8832 42.134C8.29667 39.7376 5.50128 36.3314 3.85056 32.3462C2.19985 28.361 1.76794 23.9758 2.60947 19.7452C3.451 15.5145 5.52816 11.6284 8.57829 8.5783C11.6284 5.52817 15.5145 3.45101 19.7452 2.60948C23.9758 1.76795 28.361 2.19986 32.3462 3.85057C36.3314 5.50129 39.7376 8.29668 42.134 11.8833C44.5305 15.4698 45.8096 19.6865 45.8096 24L24 24L24 45.8096Z"
                  fill="currentColor"
                ></path>
              </svg>
            </div>
            <h2 class="text-white text-lg font-bold leading-tight tracking-[-0.015em]">StockWise</h2>
          </div>
          <div class="flex-1"></div>
          </div>
        </header>
        <div class="px-4 pt-8">
          <div class="flex flex-col items-center">
            <h2 class="text-white text-[32px] font-bold leading-tight mb-2 animate-fade-in-up">Welcome back</h2>
            <p class="text-[#a2c398] text-lg mb-8 animate-fade-in-up stagger-1">Sign in to your StockWise account</p>
            
            <div class="login-form w-full max-w-[480px] mx-auto form-container show" style="display: block;">
              <div class="glass rounded-2xl p-8 hover-lift">
                <div class="flex max-w-[480px] flex-wrap items-end gap-2 px-4 py-2 animate-fade-in-up stagger-2">
                  <label class="flex flex-col min-w-40 flex-1">
                    <p class="text-white text-base font-medium leading-normal pb-2">Email</p>
                    <input
                      placeholder="Enter your email"
                      class="form-input input-focus flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-white focus:outline-0 focus:ring-0 border border-[#8b45ff] bg-[#1a1a2e] focus:border-[#00d4ff] h-14 placeholder:text-[#a0a0a0] p-[15px] text-base font-normal leading-normal transition-all duration-300"
                      value=""
                    />
                  </label>
                </div>
                <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3 animate-fade-in-up stagger-3">
                  <label class="flex flex-col min-w-40 flex-1">
                    <p class="text-white text-base font-medium leading-normal pb-2">Password</p>
                    <input
                      type="password"
                      placeholder="Enter your password"
                      class="form-input input-focus flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-white focus:outline-0 focus:ring-0 border border-[#8b45ff] bg-[#1a1a2e] focus:border-[#00d4ff] h-14 placeholder:text-[#a0a0a0] p-[15px] text-base font-normal leading-normal transition-all duration-300"
                      value=""
                    />
                  </label>
                </div>
                <p class="text-[#a0a0a0] text-sm font-normal leading-normal pb-3 pt-1 px-4 animate-fade-in-up stagger-4">
                  <a href="#" id="showSignup" class="hover:underline transition-colors duration-300 hover:text-[#00d4ff]">Create new account</a>
                  <span class="mx-2">•</span>
                  <a href="#" class="hover:underline transition-colors duration-300 hover:text-[#00d4ff]">Forgot password?</a>
                </p>
                <div class="flex px-4 py-3">
                  <button
                    onclick="window.location.href='home.html'; return false;"
                    class="btn-animate flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-12 px-6 flex-1 bg-gradient-to-r from-[#8b45ff] to-[#00d4ff] text-white text-sm font-bold leading-normal tracking-[0.015em] hover:from-[#7c3aed] hover:to-[#00b8e6] transition-all duration-300 hover:shadow-lg hover:shadow-[#8b45ff]/25"
                  >
                    <span class="truncate">Log in</span>
                  </button>
                </div>
            
                <!-- OR Divider -->
                <div class="flex flex-col items-center mb-4 animate-fade-in-up stagger-4">
                  <div class="relative w-full my-6">
                    <div class="absolute inset-0 flex items-center">
                      <div class="w-full border-t border-[#8b45ff]"></div>
                    </div>
                    <div class="relative flex justify-center">
                      <span class="px-4 bg-[#1a1a2e] text-[#a0a0a0] text-sm font-medium">OR</span>
                    </div>
                  </div>
                  <div class="w-full">
                      <div id="g_id_onload"
                           data-client_id="366312949881-c1pvjbgeqt614i2vk9ekdfd0n7mc6v8m.apps.googleusercontent.com"
                           data-auto_prompt="false">
                      </div>
                      <div class="g_id_signin hover-lift"
                           style="width: 280px; margin: 20px auto 0;">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Signup Form (initially hidden) -->
            <div id="signupForm" class="w-full max-w-[480px] mx-auto mt-8 form-container" style="display: none;">
              <div class="glass rounded-2xl p-8 hover-lift">
                <h2 class="text-white text-[28px] font-bold mb-2 text-center animate-fade-in-up">Create Account</h2>
                <p class="text-[#a0a0a0] text-lg mb-8 text-center animate-fade-in-up stagger-1">Join StockWise today</p>
                <form id="signupFormElement" class="space-y-6">
                  <div class="animate-fade-in-up stagger-2">
                    <label class="block text-white text-sm font-medium mb-2">Email</label>
                    <input
                      type="email"
                      id="signupEmail"
                      required
                      class="input-focus w-full rounded-xl bg-[#1a1a2e] border border-[#8b45ff] text-white px-4 py-4 focus:outline-none focus:ring-2 focus:ring-[#00d4ff] focus:border-transparent transition-all duration-300"
                      placeholder="Enter your email"
                    >
                  </div>
                  <div class="animate-fade-in-up stagger-3">
                    <label class="block text-white text-sm font-medium mb-2">Password</label>
                    <input
                      type="password"
                      id="signupPassword"
                      required
                      minlength="8"
                      class="input-focus w-full rounded-xl bg-[#1a1a2e] border border-[#8b45ff] text-white px-4 py-4 focus:outline-none focus:ring-2 focus:ring-[#00d4ff] focus:border-transparent transition-all duration-300"
                      placeholder="Create a password"
                    >
                    <p class="text-xs text-[#a0a0a0] mt-2">Must be at least 8 characters</p>
                  </div>
                  <div class="animate-fade-in-up stagger-4">
                    <label class="block text-white text-sm font-medium mb-2">Confirm Password</label>
                    <input
                      type="password"
                      id="confirmPassword"
                      required
                      class="input-focus w-full rounded-xl bg-[#1a1a2e] border border-[#8b45ff] text-white px-4 py-4 focus:outline-none focus:ring-2 focus:ring-[#00d4ff] focus:border-transparent transition-all duration-300"
                      placeholder="Confirm your password"
                    >
                  </div>
                  <button
                    type="submit"
                    class="btn-animate w-full bg-gradient-to-r from-[#8b45ff] to-[#00d4ff] hover:from-[#7c3aed] hover:to-[#00b8e6] text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 hover:shadow-lg hover:shadow-[#8b45ff]/25"
                  >
                    Sign Up
                  </button>
                  <p class="text-center text-[#a0a0a0] text-sm mt-6">
                    Already have an account? 
                    <a href="#" id="showLogin" class="text-[#00d4ff] hover:underline transition-colors duration-300">Log in</a>
                  </p>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
</body>
</html>
